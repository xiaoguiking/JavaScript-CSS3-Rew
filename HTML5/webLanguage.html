<!--
 * @Author: your name
 * @Date: 2020-05-17 21:58:11
 * @LastEditTime: 2020-05-17 22:41:57
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \ReactTraine:\HTML5train\demofont\JS-CSS3-React\JavaScript-CSS3-Rew\HTML5\webLanguage.html
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>web留言本</title>
  </head>
  <body>
    <script>
      // 保存
      function saveStorage(id) {
        var data = document.getElementById(id).value;
        var time = new Date().getTime();
        localStorage.setItem(time, data);
        console.log("setItem数据已经保存");
        loadStorage("msg");
      }
      // load
      function loadStorage(id) {
        var result = `<table border="1">`;
        for (var i = 0; i < localStorage.length; i++) {
          var key = localStorage.key(i);
          var value = localStorage.getItem(key);
          var date = new Date();
          date.setTime(key);
          var datestr = date.toUTCString();
          result += `<tr><td>` + `${value}` + datestr + `</td></tr>`;
        }
        result += `<table>`;
        var target = document.getElementById(id);
        target.innerHTML = result;
      }
      // 清除
      function clearStorage(id) {
        localStorage.clear();
        console.log("清除全部数据");
        // loadStorage("msg");
      }
    </script>
    <h1>简单web留言板</h1>
    <textarea id="memo" cols="60" rows="10"></textarea> <br />
    <input type="button" value="追加" onclick="saveStorage('memo')" />
    <input type="button" value="初始化" onclick="clearStorage('msg')" />
    <hr />
    <p id="msg"></p>
  </body>
</html>
